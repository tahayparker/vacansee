generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/.prisma/client"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Rooms {
  id        Int    @id @default(autoincrement())
  Name      String
  ShortCode String
  Capacity  Int?

  // Indexes for faster queries
  @@index([ShortCode])
  @@index([Name])
}

model Teacher {
  id    Int    @id @default(autoincrement())
  Name  String
  Email String
  Phone String
}

model Timings {
  id        Int    @id @default(autoincrement())
  SubCode   String
  Class     String
  Day       String
  StartTime String
  EndTime   String
  Room      String
  Teacher   String

  // Composite indexes for common query patterns
  // Used for availability checks by day and time
  @@index([Day, StartTime, EndTime])
  // Used for filtering by specific rooms
  @@index([Room])
  // Used for filtering by day
  @@index([Day])
}
